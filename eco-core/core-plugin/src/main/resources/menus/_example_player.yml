# ═══════════════════════════════════════════════════════════════════════════
#                    ECOMENUS - PLAYER STATS MENU EXAMPLE
# ═══════════════════════════════════════════════════════════════════════════
# This is a practical example of a player stats/info menu
# Files starting with _ are not loaded, so rename to "stats.yml" to use
#
# FEATURES DEMONSTRATED:
#   - PlaceholderAPI integration for player stats
#   - Player-specific information display
#   - Quick action buttons (heal, feed, etc.)
#   - Permission-based features
#   - Dynamic lore based on player data
#
# REQUIREMENTS:
#   - PlaceholderAPI plugin installed
#   - Vault (for economy display)
#   - Optional: LuckPerms, EssentialsX, or other plugins for extra placeholders
# ═══════════════════════════════════════════════════════════════════════════

title: "&8[ &9&lPlayer Stats &8] &7- %player%"
command: stats
rows: 5

# Anyone can view their own stats
conditions: [ ]

open-effects:
  - id: play_sound
    args:
      sound: BLOCK_ENCHANTMENT_TABLE_USE
      volume: 0.5
      pitch: 1.2

close-effects:
  - id: play_sound
    args:
      sound: ITEM_BOOK_PAGE_TURN
      volume: 0.5
      pitch: 1.0

# No pagination
forwards-arrow:
  enabled: false

backwards-arrow:
  enabled: false

pages:
  - page: 1
    mask:
      items:
        - black_stained_glass_pane
        - blue_stained_glass_pane
      pattern:
        - "111111111"
        - "100000001"
        - "100000001"
        - "100000001"
        - "111111111"

slots:
  # ═══════════════════════════════════════════════════════════════════════
  # PLAYER IDENTITY & BASIC INFO
  # ═══════════════════════════════════════════════════════════════════════

  # Player Head - Shows player info
  - item: player_head head:%player% name:"&b&l%player%"
    lore:
      - ""
      - "&7Display Name: &f%player_displayname%"
      - "&7UUID: &8%player_uuid%"
      - "&7Ping: &e%player_ping%ms"
      - "&7First Join: &a%player_first_join_date%"
      - "&7Last Join: &a%player_last_join_date%"
      - ""
      - "&7Rank: &6%vault_rank%"
      - ""
    location:
      row: 2
      column: 5
    conditions: [ ]

  # ═══════════════════════════════════════════════════════════════════════
  # SURVIVAL STATS
  # ═══════════════════════════════════════════════════════════════════════

  # Health & Food
  - item: golden_apple name:"&c&lHealth & Food"
    lore:
      - ""
      - "&cHealth: &f%player_health%&7/&f%player_max_health%"
      - "&6Food: &f%player_food_level%&7/&f20"
      - "&aSaturation: &f%player_saturation%"
      - ""
      - "&7Health Regen: &a%player_health_scale%"
      - ""
    location:
      row: 2
      column: 2
    conditions: [ ]

  # Experience & Level
  - item: experience_bottle name:"&a&lExperience"
    lore:
      - ""
      - "&aLevel: &f%player_level%"
      - "&aExp: &f%player_exp%&7/&f%player_exp_to_level%"
      - "&aTotal Exp: &f%player_total_exp%"
      - ""
      - "&7Progress to next level:"
      - "&7[&a||||||||&7||] &f%player_exp_progress%"
      - ""
    location:
      row: 2
      column: 3
    conditions: [ ]

  # ═══════════════════════════════════════════════════════════════════════
  # ECONOMY & WEALTH
  # ═══════════════════════════════════════════════════════════════════════

  # Money/Balance
  - item: emerald name:"&2&lMoney"
    lore:
      - ""
      - "&7Balance: &a$%vault_eco_balance_formatted%"
      - "&7Raw: &f$%vault_eco_balance%"
      - ""
      - "&7Server Rank: &e#%vault_eco_balance_rank%"
      - "&7Top Balance: &a$%vault_eco_top_balance%"
      - ""
    location:
      row: 2
      column: 7
    conditions: [ ]

  # Game Mode
  - item: grass_block name:"&e&lGame Mode"
    lore:
      - ""
      - "&7Current Mode: &f%player_gamemode%"
      - "&7World: &f%player_world%"
      - "&7Coordinates:"
      - "&7  X: &f%player_x%"
      - "&7  Y: &f%player_y%"
      - "&7  Z: &f%player_z%"
      - ""
    location:
      row: 2
      column: 8
    conditions: [ ]

  # ═══════════════════════════════════════════════════════════════════════
  # PLAYER STATISTICS
  # ═══════════════════════════════════════════════════════════════════════

  # Playtime
  - item: clock name:"&6&lPlaytime"
    lore:
      - ""
      - "&7Total Playtime: &e%statistic_time_played%"
      - "&7Time Since Death: &e%statistic_time_since_death%"
      - "&7Time Since Rest: &e%statistic_time_since_rest%"
      - ""
      - "&7Session Time: &a%player_session_time%"
      - ""
    location:
      row: 3
      column: 2
    conditions: [ ]

  # Combat Stats
  - item: diamond_sword name:"&c&lCombat Stats"
    lore:
      - ""
      - "&7Player Kills: &c%statistic_player_kills%"
      - "&7Mob Kills: &e%statistic_mob_kills%"
      - "&7Deaths: &4%statistic_deaths%"
      - ""
      - "&7Damage Dealt: &c%statistic_damage_dealt%"
      - "&7Damage Taken: &4%statistic_damage_taken%"
      - ""
      - "&7K/D Ratio: &f%statistic_kd%"
      - ""
    location:
      row: 3
      column: 3
    conditions: [ ]

  # Mining Stats
  - item: diamond_pickaxe name:"&b&lMining Stats"
    lore:
      - ""
      - "&7Blocks Mined: &f%statistic_mine_block%"
      - "&7Diamonds Mined: &b%statistic_mine_diamond_ore%"
      - "&7Iron Mined: &7%statistic_mine_iron_ore%"
      - "&7Gold Mined: &6%statistic_mine_gold_ore%"
      - ""
      - "&7Distance Walked: &a%statistic_walk_one_cm% cm"
      - ""
    location:
      row: 3
      column: 4
    conditions: [ ]

  # Building Stats
  - item: bricks name:"&6&lBuilding Stats"
    lore:
      - ""
      - "&7Blocks Placed: &f%statistic_use_item_dirt%"
      - "&7Items Crafted: &e%statistic_craft_item%"
      - "&7Jumps: &a%statistic_jump%"
      - ""
    location:
      row: 3
      column: 5
    conditions: [ ]

  # ═══════════════════════════════════════════════════════════════════════
  # QUICK ACTIONS (Permission-Based)
  # ═══════════════════════════════════════════════════════════════════════

  # Heal (VIP or Moderator Only)
  - item: potion color:RED name:"&c&lHeal Yourself"
    lore:
      - ""
      - "&7Restore your health to full"
      - "&7Cooldown: 5 minutes"
      - ""
      - "&e⭐ VIP Feature"
      - "&aClick to heal"
      - ""
    location:
      row: 4
      column: 3

    conditions:
      - id: has_permission
        args:
          permission: "stats.heal"

    show-if-not-met: false

    left-click:
      - id: run_command
        args:
          command: "heal"
      - id: send_message
        args:
          message: "&a✓ You have been healed!"
      - id: play_sound
        args:
          sound: ENTITY_PLAYER_LEVELUP
          volume: 0.5
          pitch: 1.5

  # Feed (VIP or Moderator Only)
  - item: cooked_beef name:"&6&lFeed Yourself"
    lore:
      - ""
      - "&7Restore your hunger to full"
      - "&7Cooldown: 5 minutes"
      - ""
      - "&e⭐ VIP Feature"
      - "&aClick to feed"
      - ""
    location:
      row: 4
      column: 4

    conditions:
      - id: has_permission
        args:
          permission: "stats.feed"

    show-if-not-met: false

    left-click:
      - id: run_command
        args:
          command: "feed"
      - id: send_message
        args:
          message: "&a✓ Your hunger has been satisfied!"
      - id: play_sound
        args:
          sound: ENTITY_PLAYER_BURP
          volume: 0.5
          pitch: 1.0

  # Repair (VIP+ Only)
  - item: anvil name:"&b&lRepair Item"
    lore:
      - ""
      - "&7Repair the item in your hand"
      - "&7Cooldown: 10 minutes"
      - ""
      - "&d⭐⭐ VIP+ Feature"
      - "&aClick to repair"
      - ""
    location:
      row: 4
      column: 5

    conditions:
      - id: has_permission
        args:
          permission: "stats.repair"

    show-if-not-met: false

    left-click:
      - id: run_command
        args:
          command: "repair hand"
      - id: send_message
        args:
          message: "&a✓ Item repaired!"
      - id: play_sound
        args:
          sound: BLOCK_ANVIL_USE
          volume: 0.5
          pitch: 1.2

  # Fix All (MVP Only)
  - item: enchanted_book name:"&5&lRepair All Items"
    lore:
      - ""
      - "&7Repair all items in your inventory"
      - "&7Cooldown: 30 minutes"
      - ""
      - "&5⭐⭐⭐ MVP Feature"
      - "&cVery Expensive!"
      - "&aClick to repair all"
      - ""
    location:
      row: 4
      column: 6

    conditions:
      - id: has_permission
        args:
          permission: "stats.repair.all"

    show-if-not-met: false

    left-click:
      - id: run_command
        args:
          command: "repair all"
      - id: send_message
        args:
          message: "&5✓ All items repaired!"
      - id: play_sound
        args:
          sound: UI_TOAST_CHALLENGE_COMPLETE
          volume: 1.0
          pitch: 1.0

  # ═══════════════════════════════════════════════════════════════════════
  # LOCKED FEATURE EXAMPLE
  # ═══════════════════════════════════════════════════════════════════════

  # Fly - Locked without permission
  - item: elytra name:"&b&lFlight Mode"
    lore:
      - ""
      - "&7Toggle flight mode"
      - ""
      - "&c&l✖ LOCKED"
      - "&7Requires MVP+ rank"
      - "&7Permission: &estats.fly"
      - ""
    location:
      row: 4
      column: 7

    conditions:
      - id: has_permission
        args:
          permission: "stats.fly"

    # Show it but they can't click without permission
    show-if-not-met: true

    left-click:
      - id: run_command
        args:
          command: "fly"
      - id: send_message
        args:
          message: "&b✓ Flight toggled!"
      - id: play_sound
        args:
          sound: ITEM_ARMOR_EQUIP_ELYTRA
          volume: 1.0
          pitch: 1.2

  # ═══════════════════════════════════════════════════════════════════════
  # NAVIGATION
  # ═══════════════════════════════════════════════════════════════════════

  # Refresh Stats
  - item: comparator name:"&e&lRefresh Stats"
    lore:
      - ""
      - "&7Close and reopen to update stats"
      - ""
      - "&aClick to refresh"
      - ""
    location:
      row: 5
      column: 3
    conditions: [ ]

    left-click:
      - id: close_inventory
      - id: run_command
        args:
          command: "stats"
      - id: send_message
        args:
          message: "&aStats refreshed!"

  # Close Button
  - item: barrier name:"&c&lClose"
    lore:
      - ""
      - "&7Exit this menu"
      - ""
    location:
      row: 5
      column: 5
    conditions: [ ]

    left-click:
      - id: close_inventory

  # Settings (Opens another menu)
  - item: redstone name:"&6&lSettings"
    lore:
      - ""
      - "&7Adjust your preferences"
      - ""
      - "&eClick to open settings"
      - ""
    location:
      row: 5
      column: 7
    conditions: [ ]

    left-click:
      - id: send_message
        args:
          message: "&7Opening settings... (create settings.yml menu)"
      # Uncomment when settings.yml exists
      # - id: open_menu
      #   args:
      #     menu: settings
