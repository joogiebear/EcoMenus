# ═══════════════════════════════════════════════════════════════════════════
#                        ECOMENUS - SHOP MENU EXAMPLE
# ═══════════════════════════════════════════════════════════════════════════
# This is a practical example of a working shop menu
# Files starting with _ are not loaded, so rename to "shop.yml" to use
#
# FEATURES DEMONSTRATED:
#   - Buy/sell items with money
#   - Permission-locked shop sections (VIP items)
#   - Visual price displays in lore
#   - Confirmation messages
#   - Multiple shop categories via pages
# ═══════════════════════════════════════════════════════════════════════════

title: "&8[ &6&lServer Shop &8]"
command: shop
rows: 6

# Anyone can open the shop
conditions: [ ]

open-effects:
  - id: play_sound
    args:
      sound: BLOCK_CHEST_OPEN
      volume: 0.5
      pitch: 1.2

close-effects:
  - id: play_sound
    args:
      sound: BLOCK_CHEST_CLOSE
      volume: 0.5
      pitch: 1.2

# Page navigation
forwards-arrow:
  item: arrow name:"&aNext Category &7→"
  enabled: true
  location:
    row: 6
    column: 9

backwards-arrow:
  item: arrow name:"&a← &aPrevious Category"
  enabled: true
  location:
    row: 6
    column: 1

pages:
  # ────────────────────────── PAGE 1: BLOCKS ──────────────────────────
  - page: 1
    mask:
      items:
        - gray_stained_glass_pane
        - lime_stained_glass_pane
      pattern:
        - "111111111"
        - "100000001"
        - "100000001"
        - "100000001"
        - "100000001"
        - "111111111"

  # ────────────────────────── PAGE 2: VIP ITEMS ──────────────────────────
  - page: 2
    mask:
      items:
        - gray_stained_glass_pane
        - yellow_stained_glass_pane
      pattern:
        - "111111111"
        - "100000001"
        - "100000001"
        - "100000001"
        - "100000001"
        - "111111111"

slots:
  # ═══════════════════════════════════════════════════════════════════════
  # CATEGORY INDICATORS (Decorative)
  # ═══════════════════════════════════════════════════════════════════════
  - item: grass_block name:"&a&lBlocks Category"
    lore:
      - ""
      - "&7Buy and sell building blocks"
      - ""
    location:
      row: 1
      column: 5
      page: 1
    conditions: [ ]

  - item: diamond name:"&e&lVIP Category"
    lore:
      - ""
      - "&7Exclusive items for VIP members"
      - "&cRequires VIP rank!"
      - ""
    location:
      row: 1
      column: 5
      page: 2
    conditions: [ ]

  # ═══════════════════════════════════════════════════════════════════════
  # PAGE 1: REGULAR SHOP ITEMS
  # ═══════════════════════════════════════════════════════════════════════

  # Stone - Basic item anyone can buy
  - item: stone name:"&fStone"
    lore:
      - ""
      - "&7Left-Click: &aBuy 64 for $50"
      - "&7Right-Click: &cSell 64 for $25"
      - ""
      - "&8Your balance: &e$%vault_eco_balance_formatted%"
    location:
      row: 2
      column: 2
      page: 1
    conditions: [ ]

    left-click:
      # Check if player has enough money
      - id: has_money
        args:
          amount: 50
      # Take the money
      - id: take_money
        args:
          amount: 50
      # Give the item
      - id: give_item
        args:
          item: stone amount:64
      # Confirmation message
      - id: send_message
        args:
          message: "&a✓ Bought 64 Stone for $50!"
      - id: play_sound
        args:
          sound: ENTITY_EXPERIENCE_ORB_PICKUP
          volume: 0.5
          pitch: 1.5

    right-click:
      # Check if player has the items (requires item checking condition)
      # Take 64 stone from player
      - id: take_item
        args:
          item: stone amount:64
      # Give money
      - id: give_money
        args:
          amount: 25
      # Confirmation
      - id: send_message
        args:
          message: "&a✓ Sold 64 Stone for $25!"
      - id: play_sound
        args:
          sound: ENTITY_EXPERIENCE_ORB_PICKUP
          volume: 0.5
          pitch: 1.0

  # Oak Planks
  - item: oak_planks name:"&6Oak Planks"
    lore:
      - ""
      - "&7Left-Click: &aBuy 64 for $80"
      - "&7Right-Click: &cSell 64 for $40"
      - ""
      - "&8Your balance: &e$%vault_eco_balance_formatted%"
    location:
      row: 2
      column: 3
      page: 1
    conditions: [ ]

    left-click:
      - id: take_money
        args:
          amount: 80
      - id: give_item
        args:
          item: oak_planks amount:64
      - id: send_message
        args:
          message: "&a✓ Bought 64 Oak Planks for $80!"

    right-click:
      - id: take_item
        args:
          item: oak_planks amount:64
      - id: give_money
        args:
          amount: 40
      - id: send_message
        args:
          message: "&a✓ Sold 64 Oak Planks for $40!"

  # Glass
  - item: glass name:"&bGlass"
    lore:
      - ""
      - "&7Left-Click: &aBuy 64 for $120"
      - "&7Right-Click: &cSell 64 for $60"
      - ""
      - "&8Your balance: &e$%vault_eco_balance_formatted%"
    location:
      row: 2
      column: 4
      page: 1
    conditions: [ ]

    left-click:
      - id: take_money
        args:
          amount: 120
      - id: give_item
        args:
          item: glass amount:64
      - id: send_message
        args:
          message: "&a✓ Bought 64 Glass for $120!"
      - id: play_sound
        args:
          sound: ENTITY_EXPERIENCE_ORB_PICKUP
          volume: 0.5
          pitch: 1.5

    right-click:
      - id: take_item
        args:
          item: glass amount:64
      - id: give_money
        args:
          amount: 60
      - id: send_message
        args:
          message: "&a✓ Sold 64 Glass for $60!"

  # Dirt (Cheap bulk item)
  - item: dirt name:"&8Dirt"
    lore:
      - ""
      - "&7Left-Click: &aBuy 64 for $10"
      - "&7Right-Click: &cSell 64 for $5"
      - ""
      - "&8Your balance: &e$%vault_eco_balance_formatted%"
    location:
      row: 3
      column: 2
      page: 1
    conditions: [ ]

    left-click:
      - id: take_money
        args:
          amount: 10
      - id: give_item
        args:
          item: dirt amount:64
      - id: send_message
        args:
          message: "&a✓ Bought 64 Dirt for $10!"

    right-click:
      - id: take_item
        args:
          item: dirt amount:64
      - id: give_money
        args:
          amount: 5
      - id: send_message
        args:
          message: "&a✓ Sold 64 Dirt for $5!"

  # ═══════════════════════════════════════════════════════════════════════
  # PAGE 2: VIP-ONLY ITEMS (PERMISSION LOCKED)
  # ═══════════════════════════════════════════════════════════════════════

  # Diamond (VIP Only - Hidden if no permission)
  - item: diamond name:"&b&lDiamond"
    lore:
      - ""
      - "&7Left-Click: &aBuy 16 for $2000"
      - "&7Right-Click: &cSell 16 for $1000"
      - ""
      - "&e⭐ VIP Exclusive"
      - "&8Your balance: &e$%vault_eco_balance_formatted%"
    location:
      row: 2
      column: 3
      page: 2

    # VIP permission required
    conditions:
      - id: has_permission
        args:
          permission: "shop.vip"

    # Hide if player doesn't have VIP
    show-if-not-met: false

    left-click:
      - id: take_money
        args:
          amount: 2000
      - id: give_item
        args:
          item: diamond amount:16
      - id: send_message
        args:
          message: "&b✓ Bought 16 Diamonds for $2000! (VIP Price)"
      - id: play_sound
        args:
          sound: ENTITY_PLAYER_LEVELUP
          volume: 0.5
          pitch: 1.0

    right-click:
      - id: take_item
        args:
          item: diamond amount:16
      - id: give_money
        args:
          amount: 1000
      - id: send_message
        args:
          message: "&b✓ Sold 16 Diamonds for $1000!"

  # Emerald (VIP+ Only - Shown but locked without permission)
  - item: emerald name:"&a&lEmerald"
    lore:
      - ""
      - "&7Left-Click: &aBuy 16 for $3000"
      - "&7Right-Click: &cSell 16 for $1500"
      - ""
      - "&6⭐⭐ VIP+ Exclusive"
      - "&cYou need VIP+ to purchase!"
      - "&8Your balance: &e$%vault_eco_balance_formatted%"
    location:
      row: 2
      column: 5
      page: 2

    # VIP+ permission required
    conditions:
      - id: has_permission
        args:
          permission: "shop.vip.plus"

    # Show but make it obvious they can't click
    show-if-not-met: true

    left-click:
      - id: take_money
        args:
          amount: 3000
      - id: give_item
        args:
          item: emerald amount:16
      - id: send_message
        args:
          message: "&a✓ Bought 16 Emeralds for $3000! (VIP+ Price)"
      - id: play_sound
        args:
          sound: ENTITY_PLAYER_LEVELUP
          volume: 0.5
          pitch: 1.2

    right-click:
      - id: take_item
        args:
          item: emerald amount:16
      - id: give_money
        args:
          amount: 1500
      - id: send_message
        args:
          message: "&a✓ Sold 16 Emeralds for $1500!"

  # Netherite Ingot (Admin Only)
  - item: netherite_ingot name:"&c&lNetherite Ingot"
    lore:
      - ""
      - "&7Left-Click: &aBuy 1 for $5000"
      - ""
      - "&4&lADMIN ONLY"
      - "&8Your balance: &e$%vault_eco_balance_formatted%"
    location:
      row: 2
      column: 7
      page: 2

    conditions:
      - id: has_permission
        args:
          permission: "shop.admin"

    # Hide from non-admins completely
    show-if-not-met: false

    left-click:
      - id: take_money
        args:
          amount: 5000
      - id: give_item
        args:
          item: netherite_ingot amount:1
      - id: send_message
        args:
          message: "&c✓ Bought 1 Netherite Ingot for $5000!"
      - id: play_sound
        args:
          sound: UI_TOAST_CHALLENGE_COMPLETE
          volume: 1.0
          pitch: 1.0

  # ═══════════════════════════════════════════════════════════════════════
  # CLOSE BUTTON (All Pages)
  # ═══════════════════════════════════════════════════════════════════════
  - item: barrier name:"&c&lClose Shop"
    lore:
      - ""
      - "&7Click to exit"
      - ""
    location:
      row: 6
      column: 5
    conditions: [ ]

    left-click:
      - id: send_message
        args:
          message: "&7Thanks for shopping!"
      - id: close_inventory
